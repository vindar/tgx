<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TGX: src/Rasterizer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">TGX<span id="projectnumber">&#160;1.0.3</span>
   </div>
   <div id="projectbrief">A tiny 2D/3D graphics library optimized for 32 bits microcontrollers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_rasterizer_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Rasterizer.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>3D triangle rasterizer function.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_shader_params_8h_source.html">ShaderParams.h</a>&quot;</code><br />
</div>
<p><a href="_rasterizer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2579259e42dd339f48fa4fda493e6043"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_rasterizer_8h.html#a2579259e42dd339f48fa4fda493e6043">TGX_RASTERIZE_SUBPIXEL_BITS</a>&#160;&#160;&#160;(6)</td></tr>
<tr class="memdesc:a2579259e42dd339f48fa4fda493e6043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sub-pixel precision bits.  <a href="_rasterizer_8h.html#a2579259e42dd339f48fa4fda493e6043">More...</a><br /></td></tr>
<tr class="separator:a2579259e42dd339f48fa4fda493e6043"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4cd2f1a2d5b322ad6585cb696fd4b715"><td class="memTemplParams" colspan="2">template&lt;typename SHADER_FUNCTION , typename RASTERIZER_PARAMS &gt; </td></tr>
<tr class="memitem:a4cd2f1a2d5b322ad6585cb696fd4b715"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_rasterizer_8h.html#a4cd2f1a2d5b322ad6585cb696fd4b715">tgx::rasterizeTriangle</a> (const int LX, const int LY, const RasterizerVec4 &amp;V0, const RasterizerVec4 &amp;V1, const RasterizerVec4 &amp;V2, const int32_t offset_x, const int32_t offset_y, const RASTERIZER_PARAMS &amp;data, SHADER_FUNCTION shader_fun)</td></tr>
<tr class="memdesc:a4cd2f1a2d5b322ad6585cb696fd4b715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fast triangle rasterizer for 3D graphics:  <a href="_rasterizer_8h.html#a4cd2f1a2d5b322ad6585cb696fd4b715">More...</a><br /></td></tr>
<tr class="separator:a4cd2f1a2d5b322ad6585cb696fd4b715"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >3D triangle rasterizer function. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2579259e42dd339f48fa4fda493e6043" name="a2579259e42dd339f48fa4fda493e6043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2579259e42dd339f48fa4fda493e6043">&#9670;&#160;</a></span>TGX_RASTERIZE_SUBPIXEL_BITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TGX_RASTERIZE_SUBPIXEL_BITS&#160;&#160;&#160;(6)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sub-pixel precision bits. </p>
<p >Value should range between 1 and 8. Larger value provide greater resolution and smoother animation but at the expense of the maximum viewport size:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">subpixel bits   </th><th class="markdownTableHeadNone">max viewport size LX*LY    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">2048 x 2048    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">4096 x 4096    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">8192 x 8192    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">16384 x 16384   </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4cd2f1a2d5b322ad6585cb696fd4b715" name="a4cd2f1a2d5b322ad6585cb696fd4b715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd2f1a2d5b322ad6585cb696fd4b715">&#9670;&#160;</a></span>rasterizeTriangle()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename SHADER_FUNCTION , typename RASTERIZER_PARAMS &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void tgx::rasterizeTriangle </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>LX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>LY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RasterizerVec4 &amp;&#160;</td>
          <td class="paramname"><em>V0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RasterizerVec4 &amp;&#160;</td>
          <td class="paramname"><em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RasterizerVec4 &amp;&#160;</td>
          <td class="paramname"><em>V2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>offset_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int32_t&#160;</td>
          <td class="paramname"><em>offset_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const RASTERIZER_PARAMS &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SHADER_FUNCTION&#160;</td>
          <td class="paramname"><em>shader_fun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fast triangle rasterizer for 3D graphics: </p>
<p ><b>Features</b></p>
<ul>
<li>Pixel perfect rasterization with adjustable subpixels from 2 to 8 bits (set with <code>TGX_RASTERIZE_SUBPIXEL_BITS</code>). <br  />
</li>
<li>Top-left rule to prevent drawing pixels twice.</li>
<li>Tile rasterization: large viewport can be splitted in multiple sub-images.</li>
<li>templated shader functions so to implement: z-buffer testing, shading, texturing...</li>
</ul>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">SHADER_FUNCTION</td><td>the shader function to call. <br  />
 </td></tr>
    <tr><td class="paramname">RASTERIZER_PARAMS</td><td>the type of the object containing the 'uniform' data (ie data not specific to a vertex).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LX,LY</td><td>Viewport size. The image itself may be smaller than the viewport and an offset may be specified so it is possible to draw the whole viewport in 'tile" mode be calling this method several times with different offsets. The maximum viewport size depend on <code>TGX_RASTERIZE_SUBPIXEL_BITS</code> <br  />
</td></tr>
    <tr><td class="paramname">V0,V1,V2</td><td>Normalized coordinates of the vertices of the triangle (x,y,z,w) where, 'a la opengl' the viewport is mapped to [-1, 1]^2. These vectors also optionally contain the 'varying' parameters associated with each vertex, namely the texture coords and the color associated with each vertex (when applicable) that are used by the shader function.</td></tr>
    <tr><td class="paramname">offset_x,offset_y</td><td>Offset of this image inside the viewport. So the image corresponds to to the box <code>[offset_x, offset_x + im.width[x[offset_x, offset_x + im.height[</code> and only the intersection of this box with the viewport box <code>[0, LX[x[0, LY[</code> is drawn onto the image.</td></tr>
    <tr><td class="paramname">data</td><td>'Uniform' parameters (depending on the rasterization type).</td></tr>
    <tr><td class="paramname">shader_fun</td><td>the shader function. see <a class="el" href="_shaders_8h.html" title="Triangle shader functions.">Shaders.h</a> for the implementation of classic shaders.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<ul>
<li>Maximum viewport size depending on <code>TGX_RASTERIZE_SUBPIXEL_BITS</code>: <br  />
 <div class="fragment"><div class="line">| subpixel bits | max viewport size LX*LY |</div>
<div class="line">|---------------|-------------------------|</div>
<div class="line">|      8        |      2048 x 2048        |</div>
<div class="line">|      6        |      4096 x 4096        |</div>
<div class="line">|      4        |      8192 x 8192        |</div>
<div class="line">|      2        |     16384 x 16384       |</div>
</div><!-- fragment --></li>
<li>The <code>(x,y)</code> coordinates of the vertices <code>V0,V1,V2</code> do not need to be inside the viewport <code>[-1,1]^2</code> and yet the triangle will still be perfectly rasterized provided that they are not 'too far away'. This 'too far away' correspond to the maximum viewport size according to the chosen sub-pixel precision (for instance, [-2,2]^2 will work any viewport at most 1024x1024 when using 8 bits precision).</li>
<li>Color are passed in RGBf format irrespectively of the image color type to improve quality and simplify handling of different image types. </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="_rasterizer_8h.html">Rasterizer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
